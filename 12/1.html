<!DOCTYPE html>
<html>
  <head>
    <title></title>
  </head>
  <body>
    <script type="text/javascript">
      const prices = [7, 1, 5, 3, 6, 4];

      const maxProfit = (prices) => {
        /**
         * @desc 计算收益
         * @param { number } start 起始下标
         * @return { number }
         */
        const calc = (start) => {
          if (start >= prices.length) {
            return 0;
          }

          let max = 0;
          for (let i = start; i < prices.length; i++) {
            let maxProfit = 0;
            debugger;
            for (let j = i + 1; j < prices.length; j++) {
              // 起始元素小于当前元素
              if (prices[i] < prices[j]) {
                // 以起始元素为买入时间，当前元素为卖出时间，计算总收益
                let profit = calc(j + 1) + prices[j] - prices[i];

                if (profit > maxProfit) {
                  maxProfit = profit;
                }
              }
            }

            if (maxProfit > max) {
              max = maxProfit;
            }
          }

          return max;
        };

        return calc(0);
      };

      console.log(maxProfit(prices));
    </script>
  </body>
</html>
